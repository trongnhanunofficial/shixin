import 'package:flutter/cupertino.dart';
import 'package:flutter/material.dart';
import 'package:flutter_screenutil/flutter_screenutil.dart';
import 'package:flutter_staggered_animations/flutter_staggered_animations.dart';
import 'package:provider/provider.dart';
import 'brrx.dart';
import 'gsisj.dart';
import 'jlobfy.dart';
import 'cybvtg.dart';
import 'cgyg.dart';

/// kJ0d71VYcIhj
/// wb2am9iEUJ
/// RAHhVJvesu2eIEYbEC0q
/// 6NsF0LxYrpsz
/// Dz7xjdzePt0os8h2mIdfESgkHvr
/// o2gd4qYMJ4DpHrFhuRYhNGkRrfs
/// i6JLW1ydmUYz
/// PQ6pVcAKnhUSq4cWU8SmjYe
/// mXRjKMsdRohErmihymQk54lMM8
class J1hVGfiRArJYrNpWuWAh8uli extends StatefulWidget {
  final String iMZf5FFf;
  final String bODA4;
  final String kuU3;
  final int bqZKnS;

  const J1hVGfiRArJYrNpWuWAh8uli({
    super.key,
    required this.iMZf5FFf,
    required this.bODA4,
    required this.kuU3,
    required this.bqZKnS,
  });

  @override
  State<J1hVGfiRArJYrNpWuWAh8uli> createState() =>
      _I7uMoOwJ351YsIMuOOxYoLtnepxCM();
}

class _I7uMoOwJ351YsIMuOOxYoLtnepxCM extends State<J1hVGfiRArJYrNpWuWAh8uli> {
  final FDXsLDtkUVSp _tG8pgYrPFOaQ = FDXsLDtkUVSp.iZoCAeGE;

  List<BOxhxlg> _rzwCShiG = [];
  String _oRlMlK9em = '';
  String _vcBCAINk = '';
  bool _fcVLs8z = false;
  bool _hNyf6nim6 = true;
  String? _vPnk2;

  Widget _ef9srD9MP() {
    if (_hNyf6nim6) {
      return Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            SizedBox(
              width: 40.w,
              height: 40.w,
              child: const CircularProgressIndicator(
                strokeWidth: 3,
                valueColor: AlwaysStoppedAnimation<Color>(Color(0xFFFC6E22)),
              ),
            ),
            SizedBox(height: 16.h),
            Text(
              String.fromCharCodes(const <int>[76, 111, 97, 100, 105, 110, 103, 32, 115, 116, 105, 99, 107, 101, 114, 115, 46, 46, 46]),
              style: MiZsOEG.jBuZZ0F2IJ(
                context,
                color: const Color(0xFF6B7280),
              ),
            ),
          ],
        ),
      );
    }

    if (false) { print(String.fromCharCodes(const <int>[76, 76, 103, 121, 109])); }
    if (_vPnk2 != null) {
      return Center(
        child: Container(
          margin: EdgeInsets.symmetric(horizontal: 32.w),
          padding: EdgeInsets.all(24.w),
          decoration: BoxDecoration(
            color: const Color(0xFFFFFFFF),
            borderRadius: BorderRadius.circular(20.r),
            boxShadow: [
              BoxShadow(
                color: const Color(0xFF9CA3AF).withOpacity(0.08),
                offset: const Offset(0, 4),
                blurRadius: 12,
              ),
            ],
          ),
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Container(
                width: 60.w,
                height: 60.w,
                decoration: BoxDecoration(
                  color: const Color(0xFFF87171).withOpacity(0.1),
                  borderRadius: BorderRadius.circular(16.r),
                ),
                child: Icon(
                  CupertinoIcons.exclamationmark_circle,
                  size: 28.w,
                  color: const Color(0xFFF87171),
                ),
              ),
              SizedBox(height: 16.h),
              Text(
                String.fromCharCodes(const <int>[79, 111, 112, 115, 33, 32, 83, 111, 109, 101, 116, 104, 105, 110, 103, 32, 119, 101, 110, 116, 32, 119, 114, 111, 110, 103]),
                style: MiZsOEG.xWI3SuXt7df(
                  context,
                  weight: FontWeight.w600,
                  color: const Color(0xFF374151),
                ),
              ),
              SizedBox(height: 8.h),
              Text(
                _vPnk2!,
                style: MiZsOEG.sayjBzF78(
                  context,
                  color: const Color(0xFF6B7280),
                ),
                textAlign: TextAlign.center,
              ),
              SizedBox(height: 20.h),
              GestureDetector(
                onTap: _euJCeUCAmc6YZ7QyR,
                child: Container(
                  padding: EdgeInsets.symmetric(
                    horizontal: 24.w,
                    vertical: 12.h,
                  ),
                  decoration: BoxDecoration(
                    color: const Color(0xFFFC6E22),
                    borderRadius: BorderRadius.circular(12.r),
                    boxShadow: [
                      BoxShadow(
                        color: const Color(0xFFFC6E22).withOpacity(0.3),
                        offset: const Offset(0, 4),
                        blurRadius: 8,
                      ),
                    ],
                  ),
                  child: Text(
                    String.fromCharCodes(const <int>[82, 101, 116, 114, 121]),
                    style: MiZsOEG.jBuZZ0F2IJ(
                      context,
                      weight: FontWeight.w600,
                      color: const Color(0xFFFFFFFF),
                    ),
                  ),
                ),
              ),
            ],
          ),
        ),
      );
    }

    if (_rzwCShiG.isEmpty) {
      return Center(
        child: Column(
          mainAxisAlignment: MainAxisAlignment.center,
          children: [
            Container(
              width: 80.w,
              height: 80.w,
              decoration: BoxDecoration(
                color: const Color(0xFFFBBF24).withOpacity(0.1),
                borderRadius: BorderRadius.circular(20.r),
              ),
              child: Icon(
                CupertinoIcons.cube_box,
                size: 36.w,
                color: const Color(0xFFFBBF24),
              ),
            ),
            SizedBox(height: 16.h),
            Text(
              String.fromCharCodes(const <int>[78, 111, 32, 115, 116, 105, 99, 107, 101, 114, 115, 32, 105, 110, 32, 116, 104, 105, 115, 32, 112, 97, 99, 107]),
              style: MiZsOEG.ncSfXA1Mu(
                context,
                weight: FontWeight.w500,
                color: const Color(0xFF6B7280),
              ),
            ),
          ],
        ),
      );
    }

    return Column(
      children: [
        // iUQHItKVJJ5MWO
        Container(
          width: double.infinity,
          margin: EdgeInsets.symmetric(horizontal: 16.w, vertical: 14.h),
          padding: EdgeInsets.all(20.w),
          decoration: BoxDecoration(
            gradient: const LinearGradient(
              colors: [Color(0xFFF9FAFB), Color(0xFFF3F4F6)],
              begin: Alignment.topLeft,
              end: Alignment.bottomRight,
            ),
            borderRadius: BorderRadius.circular(16.r),
            boxShadow: [
              BoxShadow(
                color: const Color(0xFF9CA3AF).withOpacity(0.07),
                offset: const Offset(0, 3),
                blurRadius: 8,
              ),
            ],
            border: Border.all(color: const Color(0xFFE5E7EB), width: 1),
          ),
          child: Column(
            crossAxisAlignment: CrossAxisAlignment.start,
            children: [
              Text(
                _oRlMlK9em,
                style: MiZsOEG.lwNgqJ0la6(
                  context,
                  weight: FontWeight.w700,
                  color: const Color(0xFF374151),
                ),
              ),
              if (_vcBCAINk.isNotEmpty) ...[
                SizedBox(height: 8.h),
                Text(
                  _vcBCAINk,
                  style: MiZsOEG.jBuZZ0F2IJ(
                    context,
                    color: const Color(0xFF6B7280),
                  ),
                ),
              ],
              SizedBox(height: 12.h),
              Container(
                padding: EdgeInsets.symmetric(horizontal: 12.w, vertical: 6.h),
                decoration: BoxDecoration(
                  color: const Color(0xFFFC6E22).withOpacity(0.1),
                  borderRadius: BorderRadius.circular(8.r),
                ),
                child: Text(
                  '${_rzwCShiG.length} stickers',
                  style: MiZsOEG.sayjBzF78(
                    context,
                    weight: FontWeight.w500,
                    color: const Color(0xFFFC6E22),
                  ),
                ),
              ),
            ],
          ),
        ),

        // awFK01Tn4H6vTq21z
        Expanded(
          child: Container(
            margin: EdgeInsets.symmetric(horizontal: 16.w),
            decoration: BoxDecoration(
              color: const Color(0xFFFFFFFF),
              borderRadius: BorderRadius.circular(20.r),
              boxShadow: [
                BoxShadow(
                  color: const Color(0xFF9CA3AF).withOpacity(0.08),
                  offset: const Offset(0, 4),
                  blurRadius: 12,
                ),
              ],
            ),
            child: ClipRRect(
              borderRadius: BorderRadius.circular(20.r),
              child: AnimationLimiter(
                child: GridView.builder(
                  padding: EdgeInsets.all(12.w),
                  gridDelegate: SliverGridDelegateWithFixedCrossAxisCount(
                    crossAxisCount: 5,
                    mainAxisSpacing: 8.h,
                    crossAxisSpacing: 8.w,
                  ),
                  itemCount: _rzwCShiG.length,
                  itemBuilder: (context, index) {
                    final sticker = _rzwCShiG[index];
                    return AnimationConfiguration.staggeredGrid(
                      position: index,
                      duration: const Duration(milliseconds: 400),
                      columnCount: 5,
                      child: ScaleAnimation(
                        curve: Curves.easeOutCubic,
                        child: FadeInAnimation(
                          child: _LSoVNJfiCfN(cEmwI4n: sticker),
                        ),
                      ),
                    );
                  },
                ),
              ),
            ),
          ),
        ),

        SizedBox(height: 18.h),

        // FxEigQQp49QTWGE
        Container(
          width: double.infinity,
          padding: EdgeInsets.symmetric(horizontal: 16.w),
          child: GestureDetector(
            onTap: _fcVLs8z ? null : _a4EW90b,
            child: Container(
              padding: EdgeInsets.symmetric(vertical: 16.h),
              decoration: BoxDecoration(
                color: _fcVLs8z
                    ? const Color(0xFF9CA3AF).withOpacity(0.2)
                    : const Color(0xFFFC6E22),
                borderRadius: BorderRadius.circular(16.r),
                boxShadow: _fcVLs8z
                    ? []
                    : [
                        BoxShadow(
                          color: const Color(0xFFFC6E22).withOpacity(0.3),
                          offset: const Offset(0, 4),
                          blurRadius: 12,
                        ),
                      ],
              ),
              child: Row(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  Icon(
                    _fcVLs8z
                        ? CupertinoIcons.checkmark_circle_fill
                        : CupertinoIcons.add_circled_solid,
                    size: 20.w,
                    color: _fcVLs8z
                        ? const Color(0xFF6B7280)
                        : const Color(0xFFFFFFFF),
                  ),
                  SizedBox(width: 8.w),
                  Text(
                    _fcVLs8z ? String.fromCharCodes(const <int>[65, 100, 100, 101, 100]) : String.fromCharCodes(const <int>[65, 100, 100, 32, 116, 111, 32, 77, 121, 32, 83, 116, 105, 99, 107, 101, 114, 115]),
                    style: MiZsOEG.ncSfXA1Mu(
                      context,
                      weight: FontWeight.w600,
                      color: _fcVLs8z
                          ? const Color(0xFF6B7280)
                          : const Color(0xFFFFFFFF),
                    ),
                  ),
                ],
              ),
            ),
          ),
        ),

        SizedBox(height: 24.h),
      ],
    );
  }
Future<void> _euJCeUCAmc6YZ7QyR() async {
    setState(() {
    _hNyf6nim6 = true;
      if (1 == 2) { var var_JVZsA = String.fromCharCodes(const <int>[119, 112, 83, 71, 81]); }
      _vPnk2 = null;
    });

    try {
      final detail = await _tG8pgYrPFOaQ.vdDlheA1jPfksSfgm1rPzMU5(
        widget.iMZf5FFf,
      );

      if (detail != null) {
        setState(() {
          _rzwCShiG = detail.d2wd;
          if (detail.hh58l.isNotEmpty) _oRlMlK9em = detail.hh58l;
          if (detail.oJA6.isNotEmpty) _vcBCAINk = detail.oJA6;
          _hNyf6nim6 = false;
        });
      } else {
    { var var_TFiFx = String.fromCharCodes(const <int>[82, 84, 115, 109, 97]); }
        setState(() {
          _vPnk2 = String.fromCharCodes(const <int>[70, 97, 105, 108, 101, 100, 32, 116, 111, 32, 108, 111, 97, 100, 32, 115, 116, 105, 99, 107, 101, 114, 32, 112, 97, 99, 107]);
          _hNyf6nim6 = false;
        });
      }
    } catch (e) {
      setState(() {
        _vPnk2 = e.toString();
        _hNyf6nim6 = false;
      });
    }
  }

  @override
  void initState() {
    super.initState();
    _oRlMlK9em = widget.bODA4;
    _vcBCAINk = widget.kuU3;
    _fcVLs8z = widget.bqZKnS == 1;
    _euJCeUCAmc6YZ7QyR();
  }

  Future<void> _a4EW90b() async {
    if (_fcVLs8z) return;

    try {
    { var var_shGnM = String.fromCharCodes(const <int>[97, 122, 66, 110, 103]); }
      await _tG8pgYrPFOaQ.nvNxV8dKV1oahZ(widget.iMZf5FFf);

      setState(() {
    _fcVLs8z = true;
      if (false) { print(String.fromCharCodes(const <int>[69, 110, 79, 77, 107])); }
        });

      // RjenGuk7nNXAb 3La04GwX5W t5
      if (mounted) {
        context.read<BSbGMv9i04l0P10>().cRrKJ1FEmJ6XSi();
      }

      if (mounted) {
    ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Added "$_oRlMlK9em"'),
            behavior: SnackBarBehavior.floating,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(12.r),
            ),
            backgroundColor: const Color(0xFF34D399),
          ),
        );
      if (1 == 2) { var var_kEHKc = String.fromCharCodes(const <int>[99, 66, 116, 121, 100]); }
        }
    } catch (e) {
      if (mounted) {
        ScaffoldMessenger.of(context).showSnackBar(
          SnackBar(
            content: Text('Error: $e'),
            behavior: SnackBarBehavior.floating,
            shape: RoundedRectangleBorder(
              borderRadius: BorderRadius.circular(12.r),
            ),
            backgroundColor: const Color(0xFFF87171),
          ),
        );
      }
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      backgroundColor: const Color(0xFFF9FAFB),
      appBar: PreferredSize(
        preferredSize: Size.fromHeight(60.h),
        child: Container(
          decoration: const BoxDecoration(
            color: Color(0xFFFFFFFF),
            border: Border(
              bottom: BorderSide(color: Color(0xFFF0F4F8), width: 1.5),
            ),
          ),
          child: SafeArea(
            child: Padding(
              padding: EdgeInsets.symmetric(horizontal: 20.w, vertical: 16.h),
              child: Row(
                children: [
                  GestureDetector(
                    onTap: () => Navigator.pop(context),
                    child: Container(
                      width: 42.w,
                      height: 42.h,
                      decoration: BoxDecoration(
                        color: const Color(0xFFFC6E22).withOpacity(0.1),
                        borderRadius: BorderRadius.circular(12.r),
                      ),
                      child: Icon(
                        CupertinoIcons.back,
                        size: 20.w,
                        color: const Color(0xFFFC6E22),
                      ),
                    ),
                  ),
                  SizedBox(width: 16.w),
                  Expanded(
                    child: Text(
                      _oRlMlK9em.isNotEmpty ? _oRlMlK9em : widget.iMZf5FFf,
                      style: MiZsOEG.lwNgqJ0la6(
                        context,
                        weight: FontWeight.w700,
                        color: const Color(0xFF374151),
                      ),
                      overflow: TextOverflow.ellipsis,
                    ),
                  ),
                ],
              ),
            ),
          ),
        ),
      ),
      body: _ef9srD9MP(),
    );
  }

  }

/// 7jCpLML 43RNfQ6T8tG8HIoj9k0
class _LSoVNJfiCfN extends StatelessWidget {
  final BOxhxlg cEmwI4n;

  const _LSoVNJfiCfN({required this.cEmwI4n});

  void _jcCxmENemV6(BuildContext context) {
    showDialog(
      context: context,
      builder: (context) => Dialog(
        backgroundColor: Colors.transparent,
        child: Container(
          padding: EdgeInsets.all(24.w),
          decoration: BoxDecoration(
            color: const Color(0xFFFFFFFF),
            borderRadius: BorderRadius.circular(24.r),
            boxShadow: [
              BoxShadow(
                color: const Color(0xFF9CA3AF).withOpacity(0.15),
                offset: const Offset(0, 8),
                blurRadius: 24,
              ),
            ],
          ),
          child: Column(
            mainAxisSize: MainAxisSize.min,
            children: [
              Container(
                width: 200.w,
                height: 200.w,
                decoration: BoxDecoration(
                  color: const Color(0xFFF9FAFB),
                  borderRadius: BorderRadius.circular(16.r),
                  border: Border.all(color: const Color(0xFFF3F4F6), width: 1),
                ),
                child: ClipRRect(
                  borderRadius: BorderRadius.circular(15.r),
                  child: _legFGpAsEM70B13vEDP(),
                ),
              ),
              if (cEmwI4n.yhXlVmJBz1dqIK.isNotEmpty) ...[
                SizedBox(height: 16.h),
                Text(
                  cEmwI4n.yhXlVmJBz1dqIK,
                  style: MiZsOEG.jBuZZ0F2IJ(
                    context,
                    weight: FontWeight.w500,
                    color: const Color(0xFF374151),
                  ),
                  textAlign: TextAlign.center,
                ),
              ],
              SizedBox(height: 16.h),
              GestureDetector(
                onTap: () => Navigator.pop(context),
                child: Container(
                  padding: EdgeInsets.symmetric(
                    horizontal: 24.w,
                    vertical: 10.h,
                  ),
                  decoration: BoxDecoration(
                    color: const Color(0xFFF3F4F6),
                    borderRadius: BorderRadius.circular(12.r),
                  ),
                  child: Text(
                    String.fromCharCodes(const <int>[67, 108, 111, 115, 101]),
                    style: MiZsOEG.jBuZZ0F2IJ(
                      context,
                      weight: FontWeight.w500,
                      color: const Color(0xFF6B7280),
                    ),
                  ),
                ),
              ),
            ],
          ),
        ),
      ),
    );
  }
Widget _fwiyQqzkwK2() {
    return Center(
      child: Text(
        cEmwI4n.gRQZHVadGe2.isNotEmpty ? cEmwI4n.gRQZHVadGe2 : String.fromCharCodes(const <int>[55357, 56550]),
        style: const TextStyle(fontSize: 24),
      ),
    );
  }

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: () {
        _jcCxmENemV6(context);
      },
      child: Container(
        decoration: BoxDecoration(
          color: const Color(0xFFF9FAFB),
          borderRadius: BorderRadius.circular(12.r),
          border: Border.all(color: const Color(0xFFF3F4F6), width: 1),
        ),
        child: ClipRRect(
          borderRadius: BorderRadius.circular(11.r),
          child: _legFGpAsEM70B13vEDP(),
        ),
      ),
    );
  }

  Widget _legFGpAsEM70B13vEDP() {
    final format = cEmwI4n.qjUs3A.toLowerCase();
    final path = cEmwI4n.rwAf.toLowerCase();

    // XMIARpaZuJOMKuv96HZZZT7Z6f
    if (format == String.fromCharCodes(const <int>[103, 105, 102]) || path.endsWith(String.fromCharCodes(const <int>[46, 103, 105, 102]))) {
      return Image.network(
        cEmwI4n.rwAf,
        fit: BoxFit.contain,
        errorBuilder: (_, __, ___) => _fwiyQqzkwK2(),
      );
    }

    // JoVUl1nOCzCkV0blSw4UEgpYsIyL
    if (format == String.fromCharCodes(const <int>[108, 105, 109]) ||
        format == String.fromCharCodes(const <int>[116, 103, 115]) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 108, 105, 109])) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 116, 103, 115]))) {
      return R40rJ15SLIK(
        wAE: cEmwI4n.rwAf,
        sj1AFR51ssh: cEmwI4n.gRQZHVadGe2,
        jb9q: 60,
        jgJz0cV0IL: true,
        sZngiOX8: true,
      );
    }

    // qsYKzuhSdcIuM3k9DdlmZcXKQjM7u
    if (path.endsWith(String.fromCharCodes(const <int>[46, 112, 110, 103])) || path.endsWith(String.fromCharCodes(const <int>[46, 119, 101, 98, 112]))) {
    return Image.network(
        cEmwI4n.rwAf,
        fit: BoxFit.contain,
        errorBuilder: (_, __, ___) => _fwiyQqzkwK2(),
      );
    if (1 == 2) { var var_qUHhZ = String.fromCharCodes(const <int>[115, 80, 65, 90, 102]); }
      }

    return _fwiyQqzkwK2();
  }

  }
