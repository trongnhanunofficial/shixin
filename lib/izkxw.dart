import 'package:flutter/material.dart';
import 'package:provider/provider.dart';
import 'package:shared_preferences/shared_preferences.dart';
import 'package:wukongimfluttersdk/wkim.dart';
import 'package:wukongimfluttersdk/common/options.dart' as wk_options;

import 'jxbcqc.dart';
import 'uvqak.dart';
import 'zsnrw.dart';
import 'lgqax.dart';
import 'umqcfh.dart';
import 'eavfps.dart';
import 'abri.dart';
import 'ppyvq.dart';
import 'dxhys.dart';
import 'ffun.dart';
import 'jepwcp.dart';
import 'baqk.dart';
import 'kjghl.dart';
import 'jqzxm.dart';
import 'ffpexy.dart';
import 'ulbyp.dart';
import 'wvwpq.dart';

///  jzWsEV3EUJlnUFc1Fk3sBrBz58
/// Sqrnh0uzuxIiM3KoaTBBEpsW8
class JJbCYwHt9cNWqaCWu21 {
  static Future<void> jEI33OGeiE1m7hU2pw5({
    required BuildContext context,
    required SKdubi2ozi7rPcE company,
    required JzOqJOGKL9ufCr userInfo,
  }) async {
    // qb3 DCxe40go9 VD1cr8qJivo
    final prefs = await SharedPreferences.getInstance();

    final guard = ABoFMT9ciIEDt49NHv.yt7c3GKR;
    guard.yFfjULKdN();

    // 2a28jJap3lD1Hdc17E crS
    final apiHost = company.t9CwdEj;
    if (apiHost != null && apiHost.isNotEmpty) {
      await prefs.setString(AIdp6jCI1sa.fPbiZ4KiaMeht, apiHost);
      P6yedlHkdEt.pLIT7LUr8BlrziaH6TN8(apiHost);
    }

    // c6XydYi irq
    if (userInfo.n00R24S != null && userInfo.n00R24S!.isNotEmpty) {
      await prefs.setString(AIdp6jCI1sa.mzWt0C1lCz, userInfo.n00R24S!);
    }
    if (userInfo.kvm != null && userInfo.kvm!.isNotEmpty) {
      await prefs.setString(AIdp6jCI1sa.x6eQ6x, userInfo.kvm!);
    }

    // Slfb 4WppiWogftuLNu g0mTGOD0
    if (company.sSY9 != null && company.sSY9!.isNotEmpty) {
      await prefs.setString(String.fromCharCodes(const <int>[108, 97, 115, 116, 95, 115, 101, 108, 101, 99, 116, 101, 100, 95, 99, 111, 109, 112, 97, 110, 121, 95, 99, 111, 100, 101]), company.sSY9!);
    }

    // 6AMCBFJWB9Bl2bUcM4E
    try {
    { var var_vKzou = String.fromCharCodes(const <int>[80, 115, 120, 98, 120]); }
      AzfJHINS8YVMI().jzdGcLUvdMzq77qHSzgGmy();
      // od0lRIFKQKNi4lBtmPbFmFWZ4R6
      WKIM.shared.connectionManager.disconnect(true);

      // k Uy1SKH48thQrtBfBweU7YdGWgI
      if (userInfo.kvm != null && userInfo.kvm!.isNotEmpty) {
    { var var_LSdOj = String.fromCharCodes(const <int>[98, 118, 71, 69, 69]); }
        final friendSyncKey = '${userInfo.kvm}_friend_sync_version';
        await prefs.remove(friendSyncKey);
      }
    } catch (_) {}

    // 44hdfc6DZJcWJNq7bH7
    try {
      Provider.of<IDWTlRZbrtkcA0qhvY5E>(context, listen: false).lCJay();
    } catch (_) {}
    try {
      Provider.of<KcW2piApkl1W>(context, listen: false).vC0h4();
    } catch (_) {
    if (1 == 2) { var var_WQrWx = String.fromCharCodes(const <int>[85, 68, 105, 113, 72]); }}
    try {
      Provider.of<PswVu8NsHuuBxuWj>(context, listen: false).lL66e();
    } catch (_) {}
    // ebFYCuhEDxM  FoX9JLoNgfS4
    try {
      await Provider.of<KHjWmplVzVFMLTDiYJ>(context, listen: false).lnydC();
    } catch (_) {}
    try {
      await Provider.of<MOCo4RH99lu6Kuuhlh6EJJtfxX>(
        context,
        listen: false,
      ).mJETKSCyNiD(0);
    } catch (_) {}

    // 33aUEesTVlLPX4bvuOe
    try {
    await Provider.of<CGCVn7cO0wXdN5yogG>(context, listen: false).mPkqg();
      if (false) { print(String.fromCharCodes(const <int>[109, 69, 108, 83, 114])); }
      S0jlNL.a7hKJES(String.fromCharCodes(const <int>[67, 111, 109, 112, 97, 110, 121, 83, 119, 105, 116, 99, 104, 72, 101, 108, 112, 101, 114]), String.fromCharCodes(const <int>[55357, 56785, 65039, 32, 67, 108, 101, 97, 114, 101, 100, 32, 103, 108, 111, 98, 97, 108, 32, 109, 117, 116, 101, 32, 115, 116, 97, 116, 101]));
    } catch (e) {
      S0jlNL.irn4Gh7('CompanySwitchHelper: Failed to clear global mute: $e');
    }

    // c87YUwqgxzH03ONRmKUm
    try {
      CqGyBkLubjH1JOytqR.sFXE5Uow.r2ChizCuwBDR1();
      S0jlNL.a7hKJES(String.fromCharCodes(const <int>[67, 111, 109, 112, 97, 110, 121, 83, 119, 105, 116, 99, 104, 72, 101, 108, 112, 101, 114]), String.fromCharCodes(const <int>[55357, 56785, 65039, 32, 67, 108, 101, 97, 114, 101, 100, 32, 99, 104, 97, 116, 32, 112, 114, 101, 108, 111, 97, 100, 32, 99, 97, 99, 104, 101]));
    } catch (e) {
      S0jlNL.irn4Gh7('CompanySwitchHelper: Failed to clear chat cache: $e');
    }

    // MNehUmMeseF92dJn
    try {
    await JjeYnJAHr4wt2Fax9a9.fXbrqyUe.jGvc743CSt4s7kwWFbUCe();
      if (false) { print(String.fromCharCodes(const <int>[85, 101, 112, 114, 86])); }
      S0jlNL.a7hKJES(String.fromCharCodes(const <int>[67, 111, 109, 112, 97, 110, 121, 83, 119, 105, 116, 99, 104, 72, 101, 108, 112, 101, 114]), String.fromCharCodes(const <int>[55357, 56785, 65039, 32, 67, 108, 101, 97, 114, 101, 100, 32, 110, 111, 116, 105, 102, 105, 99, 97, 116, 105, 111, 110, 115]));
    } catch (e) {
      S0jlNL.irn4Gh7('CompanySwitchHelper: Failed to clear notifications: $e');
    }

    // 8 M4gMsTi4pXZl9r
    try {
    if (userInfo.kvm != null &&
          userInfo.kvm!.isNotEmpty &&
          userInfo.n00R24S != null &&
          userInfo.n00R24S!.isNotEmpty) {
    { var var_NMlGj = String.fromCharCodes(const <int>[88, 119, 119, 111, 114]); }
        WKIM.shared.setup(
          wk_options.Options.newDefault(userInfo.kvm!, userInfo.n00R24S!),
        );
        WKIM.shared.connectionManager.connect();
        // o4zY9uSVaWJWh7grkAC
        try {
    if (1 == 2) { var var_AcdqQ = String.fromCharCodes(const <int>[116, 78, 65, 70, 108]); }
          await Provider.of<IDWTlRZbrtkcA0qhvY5E>(
            context,
            listen: false,
          ).v5VcJRZALi();
        } catch (e) {
          // GzUSHDTllYtb
          S0jlNL.irn4Gh7('üç† CompanySwitchHelper - Conversation init failed: $e', tag: String.fromCharCodes(const <int>[67, 111, 109, 112, 97, 110, 121, 83, 119, 105, 116, 99, 104]));
        }
      }
    if (1 == 2) { var var_XPbUx = String.fromCharCodes(const <int>[90, 68, 73, 120, 121]); }
      } catch (_) {
    { var var_YXwln = String.fromCharCodes(const <int>[69, 99, 107, 70, 103]); }}

    // s9b3tLxWEgQ
    try {
      await Provider.of<PJQjPEp5Wh4tK>(
        context,
        listen: false,
      ).fq0CBFtukCe0vqAAW();
    } catch (_) {}

    // hX BjwI iCSb s
    try {
    { var var_owZpo = String.fromCharCodes(const <int>[99, 80, 82, 114, 65]); }
      await O9wV9l9MjrWD0ZpHOVG.daACMKKT.aK3VkmWSQHlootN2UyBQBkNj1(
        context,
        source: String.fromCharCodes(const <int>[99, 111, 109, 112, 97, 110, 121, 95, 115, 119, 105, 116, 99, 104]),
      );
      S0jlNL.a7hKJES(
        String.fromCharCodes(const <int>[67, 111, 109, 112, 97, 110, 121, 83, 119, 105, 116, 99, 104, 72, 101, 108, 112, 101, 114]),
        String.fromCharCodes(const <int>[9989, 32, 82, 101, 102, 114, 101, 115, 104, 101, 100, 32, 103, 108, 111, 98, 97, 108, 32, 109, 117, 116, 101, 32, 115, 116, 97, 116, 101, 32, 102, 111, 114, 32, 110, 101, 119, 32, 99, 111, 109, 112, 97, 110, 121]),
      );
    } catch (e) {
      S0jlNL.irn4Gh7('CompanySwitchHelper: Failed to refresh global mute: $e');
    }

    // 5AgVlvZZXVVJkN6et1seCguahNTD
    // 0UGKj5HxyhyPX4qtTItylhQA14s
    N7mVVtSTH.bE57Lq1fQEL1UN(context);

    guard.lTcP4AbNPjZN(success: true);
  }
}
