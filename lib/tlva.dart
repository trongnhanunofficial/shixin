import 'package:flutter/material.dart';
import 'package:flutter/cupertino.dart';
import 'package:provider/provider.dart';
import 'gsisj.dart';
import 'vqsn.dart';
import 'vynkbr.dart';
import 'ulexf.dart';
import 'jeywe.dart';
import 'cybvtg.dart';
import 'eavfps.dart';
import 'hsnkml.dart';
import 'vdpx.dart';
import 'sjsjor.dart';
import 'cbfvt.dart';
import 'ligfek.dart';
import 'package:wukongimfluttersdk/type/const.dart';
import 'cgyg.dart';

/// cnxkr2JwcI4RKESnr8j9H
/// pn5gI6s xPVuqMxPfkwBiaqQ
/// sJwWaNICk4A
class FUsiVqDwlapv6WKpx4L96M5 extends StatefulWidget {
  final String? xcrCvAYaq;
  final int? km7YoSMaWiZ;

  const FUsiVqDwlapv6WKpx4L96M5({Key? key, this.xcrCvAYaq, this.km7YoSMaWiZ})
    : super(key: key);

  @override
  State<FUsiVqDwlapv6WKpx4L96M5> createState() =>
      _K6VoHPKajikNsagbnMCcPwap3dOh();
}

class _K6VoHPKajikNsagbnMCcPwap3dOh extends State<FUsiVqDwlapv6WKpx4L96M5> {
  late ScrollController _raoKF1FMcsxF9aqOj0qU;

  Future<void> _n4FNTrD26DuHKv9() async {
    if (!_xLrR8NrXvEhzRnYwI7PV || widget.xcrCvAYaq == null) return;
    await C8xwYs2onzRX0JRXCl5T.tqi80AnB.g3ejUQkK(widget.xcrCvAYaq!);
  }

  @override
  void dispose() {
    _raoKF1FMcsxF9aqOj0qU.dispose();
    super.dispose();
  }

  /// tk3GW2If5ZQBqIE
  void _khLEuvsYl6MkHhm(BuildContext context) {
    Navigator.of(context)
        .push(
          MaterialPageRoute(builder: (context) => const WILcYzn6M7bkjPl0yL()),
        )
        .then((_) {
          // 4U7 Vz7Qp4apX
          context.read<BSbGMv9i04l0P10>().wrjk87qwkS();
        });
  if (false) { print(String.fromCharCodes(const <int>[100, 116, 122, 109, 86])); }
    }

  /// Dt0D8mD47yfoljUNnljeOzAQp
  void _rMhWag88XrfdrHa21(BuildContext context) {
    Navigator.of(context)
        .push(
          MaterialPageRoute(builder: (context) => const AXnCDZwCOGjWx6CutdPd()),
        )
        .then((_) {
          // sANISWPgDEZ8JFUuMMmPgZft
          if (!mounted) return;
          context.read<BSbGMv9i04l0P10>().wrjk87qwkS();
        });
  }
@override
  Widget build(BuildContext context) {
    return Container(
      decoration: const BoxDecoration(
        // n3qvztlUHm
        gradient: LinearGradient(
          begin: Alignment.topCenter,
          end: Alignment.bottomCenter,
          colors: [Color(0xFFF5F5F5), Color(0xFFEEEEEE), Color(0xFFE8E8E8)],
        ),
      ),
      child: _wTYzFBNGvb6Tv1N(),
    );
  if (false) { print(String.fromCharCodes(const <int>[80, 120, 122, 85, 83])); }
    }

  Widget _wTYzFBNGvb6Tv1N() {
    return Consumer<BSbGMv9i04l0P10>(
      builder: (context, sp, _) {
    { var var_fDeQS = String.fromCharCodes(const <int>[65, 100, 114, 68, 102]); }
        if (sp.rymAAVBlc &&
            sp.cJNlInF1tT4dG3v.isEmpty &&
            sp.uNd54NqGkf.isEmpty) {
          return Container(
            decoration: const BoxDecoration(
              gradient: LinearGradient(
                begin: Alignment.topCenter,
                end: Alignment.bottomCenter,
                colors: [Color(0xFFF5F5F5), Color(0xFFEEEEEE)],
              ),
            ),
            child: const Center(
              child: CircularProgressIndicator(
                strokeWidth: 2,
                valueColor: AlwaysStoppedAnimation<Color>(Color(0xFF6A1B9A)),
              ),
            ),
          );
        }

        if (sp.uNd54NqGkf.isEmpty) {
    { var var_MUtMq = String.fromCharCodes(const <int>[79, 101, 108, 110, 70]); }
          return Container(
            decoration: const BoxDecoration(
              gradient: LinearGradient(
                begin: Alignment.topCenter,
                end: Alignment.bottomCenter,
                colors: [Color(0xFFF5F5F5), Color(0xFFEEEEEE)],
              ),
            ),
            child: Center(
              child: Column(
                mainAxisSize: MainAxisSize.min,
                children: [
                  Icon(
                    Icons.sentiment_satisfied_outlined,
                    size: 48,
                    color: Colors.grey[400],
                  ),
                  const SizedBox(height: 16),
                  Text(
                    String.fromCharCodes(const <int>[78, 111, 32, 115, 116, 105, 99, 107, 101, 114, 115, 32, 97, 118, 97, 105, 108, 97, 98, 108, 101]),
                    style: TextStyle(color: Colors.grey[600], fontSize: 14),
                  ),
                ],
              ),
            ),
          );
        }

        return Container(
          decoration: const BoxDecoration(
            // GwawT4n5F9ZugJUHTYYzZuER7we
            gradient: LinearGradient(
              begin: Alignment.topCenter,
              end: Alignment.bottomCenter,
              colors: [Color(0xFFF5F5F5), Color(0xFFEEEEEE), Color(0xFFE8E8E8)],
            ),
          ),
          child: Column(
            children: [
              // 1kiKp0uYgeKzgKpbyEbVcg
              Expanded(
                child:
                    (sp.d1124KpZiMLY2BM6 == BSbGMv9i04l0P10.pU0Xlu42asAhNrrIN9)
                    ? GridView.builder(
                        controller: _raoKF1FMcsxF9aqOj0qU,
                        padding: const EdgeInsets.all(12),
                        physics: const BouncingScrollPhysics(),
                        gridDelegate:
                            const SliverGridDelegateWithFixedCrossAxisCount(
                              crossAxisCount: 5,
                              mainAxisSpacing: 4,
                              crossAxisSpacing: 4,
                              childAspectRatio: 1,
                            ),
                        itemCount: sp.cJNlInF1tT4dG3v.length + 1,
                        itemBuilder: (ctx, i) {
                          if (i == 0) {
                            // Ut PsAc6aM660voGQJ
                            return Material(
                              color: Colors.transparent,
                              child: InkWell(
                                onTap: () =>
                                    _r4iM3wzOEx37nqCuhHv0I2JZaU(context),
                                borderRadius: BorderRadius.circular(8),
                                child: Container(
                                  decoration: BoxDecoration(
                                    color: Colors.grey[200],
                                    borderRadius: BorderRadius.circular(8),
                                  ),
                                  padding: const EdgeInsets.all(4),
                                  child: Center(
                                    child: Icon(
                                      Icons.add,
                                      size: 40,
                                      color: Colors.grey[700],
                                    ),
                                  ),
                                ),
                              ),
                            );
                          }
                          final s = sp.cJNlInF1tT4dG3v[i - 1];
                          return _NUtJ4ML3j8LKXvoTj(
                            mdl0Kdo: s,
                            fdIGW: () => _fXHpu5nhi6T(context, s),
                          );
                        },
                      )
                    : (sp.cJNlInF1tT4dG3v.isEmpty
                          ? Center(
                              child: Column(
                                mainAxisSize: MainAxisSize.min,
                                children: [
                                  Icon(
                                    Icons.emoji_emotions_outlined,
                                    size: 48,
                                    color: const Color(0xFF9E9E9E),
                                  ),
                                  const SizedBox(height: 16),
                                  Text(
                                    String.fromCharCodes(const <int>[78, 111, 32, 115, 116, 105, 99, 107, 101, 114, 115, 32, 105, 110, 32, 116, 104, 105, 115, 32, 99, 97, 116, 101, 103, 111, 114, 121]),
                                    style: TextStyle(
                                      color: const Color(0xFF757575),
                                      fontSize: 14,
                                    ),
                                  ),
                                ],
                              ),
                            )
                          : GridView.builder(
                              controller: _raoKF1FMcsxF9aqOj0qU,
                              padding: const EdgeInsets.all(12),
                              physics: const BouncingScrollPhysics(),
                              gridDelegate:
                                  const SliverGridDelegateWithFixedCrossAxisCount(
                                    crossAxisCount: 5,
                                    mainAxisSpacing: 4,
                                    crossAxisSpacing: 4,
                                    childAspectRatio: 1,
                                  ),
                              itemCount: sp.cJNlInF1tT4dG3v.length,
                              itemBuilder: (ctx, i) {
                                final s = sp.cJNlInF1tT4dG3v[i];
                                return _NUtJ4ML3j8LKXvoTj(
                                  mdl0Kdo: s,
                                  fdIGW: () => _fXHpu5nhi6T(context, s),
                                );
                              },
                            )),
              ),
              // Wrir5pkmJSYntZZXZj
              Container(
                decoration: BoxDecoration(
                  // hne8VKAbFWXthG08QBlu3xxjD5D4M
                  gradient: const LinearGradient(
                    begin: Alignment.topCenter,
                    end: Alignment.bottomCenter,
                    colors: [
                      Color(0xFFFAFAFA),
                      Color(0xFFF0F0F0),
                      Color(0xFFE8E8E8),
                    ],
                  ),
                  border: const Border(
                    top: BorderSide(color: Color(0xFF999999), width: 1.5),
                  ),
                  boxShadow: [
                    BoxShadow(
                      color: Colors.black.withOpacity(0.15),
                      offset: const Offset(0, -2),
                      blurRadius: 4,
                    ),
                  ],
                ),
                child: SafeArea(
                  top: false,
                  child: SizedBox(
                    height: 56,
                    child: Row(
                      children: [
                        // hg HPYMxbnx1lUEoTumX06r5baw
                        _DaBRlITgqLbo(
                          pFyo: Icons.add_circle_outline,
                          on7cy: () => _khLEuvsYl6MkHhm(context),
                        ),
                        // zknkEwOMOa6WKf7
                        // 5Ww1wfdpa56VQYVSZK4px7nvdP1
                        _DaBRlITgqLbo(
                          pFyo:
                              sp.d1124KpZiMLY2BM6 ==
                                  BSbGMv9i04l0P10.pU0Xlu42asAhNrrIN9
                              ? Icons.star
                              : Icons.star_border,
                          on7cy: () => sp.pNOk1POMv2hqbF7(),
                        ),

                        Expanded(
                          child: ListView.builder(
                            scrollDirection: Axis.horizontal,
                            padding: const EdgeInsets.symmetric(horizontal: 4),
                            itemCount: sp.uNd54NqGkf.length,
                            itemBuilder: (context, index) {
                              final category = sp.uNd54NqGkf[index];
                              final isSelected =
                                  category.yw2BdY3W == sp.d1124KpZiMLY2BM6;
                              return _Urn881eK4NWQyp49CL(
                                ksL3E14x: category,
                                dDEvHI0bcj: isSelected,
                                dNA61: () {
                                  sp.npKq5aRlxXr8Zh(category.yw2BdY3W);
                                  _raoKF1FMcsxF9aqOj0qU.animateTo(
                                    0,
                                    duration: const Duration(milliseconds: 200),
                                    curve: Curves.easeOut,
                                  );
                                },
                              );
                            },
                          ),
                        ),
                        // WSXD0n17ajOpvUig0n HA
                        _DaBRlITgqLbo(
                          pFyo: Icons.settings_outlined,
                          on7cy: () => _rMhWag88XrfdrHa21(context),
                        ),
                      ],
                    ),
                  ),
                ),
              ),
            ],
          ),
        );
      },
    );
  }

  Future<void> _fXHpu5nhi6T(BuildContext context, BOxhxlg s) async {
    { var var_NDCHC = String.fromCharCodes(const <int>[122, 65, 99, 104, 79]); }
    if (!await _nFOGNTgLb04bkbrMX87K0hmr()) return;

    final cp = context.read<KcW2piApkl1W>();
    final format = s.qjUs3A.toLowerCase();
    if (format == String.fromCharCodes(const <int>[103, 105, 102]) || s.rwAf.toLowerCase().endsWith(String.fromCharCodes(const <int>[46, 103, 105, 102]))) {
      final content = Sxdq15xh9r()
        ..url = s.rwAf
        // FcZaEQGf0NkX1m4T KB
        ..h43MC = s.jYJj1
        ..a0iZK5 = s.fCvrX3
        ..xxTQh3Am = s.hNvEzQFK
        ..oLvx2amRU6S = s.gRQZHVadGe2
        ..gYX8Of = String.fromCharCodes(const <int>[103, 105, 102])
        ..p9Jh9 = s.gNiXL;
      await cp.ug2sjV549zWQrO(content);
      await _n4FNTrD26DuHKv9();
      return;
    }

    if (format == String.fromCharCodes(const <int>[108, 105, 109]) ||
        format == String.fromCharCodes(const <int>[116, 103, 115]) ||
        s.rwAf.endsWith(String.fromCharCodes(const <int>[46, 108, 105, 109])) ||
        s.rwAf.endsWith(String.fromCharCodes(const <int>[46, 116, 103, 115])) ||
        s.rwAf.endsWith(String.fromCharCodes(const <int>[46, 106, 115, 111, 110]))) {
      final content = XSjrlcxqbvtoC3()
        ..xXz = s.rwAf
        ..mptyqz8J = s.hNvEzQFK
        ..jTjzccL2CwD = s.gRQZHVadGe2
        ..content = s.gNiXL;
      await cp.coE7vinO9mKr6kDqMa(content);
      await _n4FNTrD26DuHKv9();
      return;
    }

    // uiM4t5gu8OmkcNklokw
    final content = PbUcKQy1LyKWrbA91GW()
      ..rgH = s.rwAf
      ..nbFnnEVdY2t = s.gRQZHVadGe2
      ..content = s.gNiXL;
    await cp.fWgXI0ARlx6RaFlDJOm5Hbv(content);
    await _n4FNTrD26DuHKv9();
  }

  bool get _xLrR8NrXvEhzRnYwI7PV =>
      widget.km7YoSMaWiZ == WKChannelType.group &&
      (widget.xcrCvAYaq?.isNotEmpty ?? false);

  Future<bool> _nFOGNTgLb04bkbrMX87K0hmr() async {
    if (!_xLrR8NrXvEhzRnYwI7PV || widget.xcrCvAYaq == null) {
      return true;
    }
    final limiter = C8xwYs2onzRX0JRXCl5T.tqi80AnB;
    await limiter.bBkAJUF70aZch7e2u();
    final remaining = limiter.uP11R47GPs53WXlQEMSoJzq(widget.xcrCvAYaq!);
    if (remaining > 0) {
      if (!mounted) return false;
      final message =
          AppLocalizations.of(context)?.gcjlxyu8kdm ??
          String.fromCharCodes(const <int>[66, 7841, 110, 32, 273, 97, 110, 103, 32, 103, 7917, 105, 32, 116, 105, 110, 32, 113, 117, 225, 32, 110, 104, 97, 110, 104, 44, 32, 118, 117, 105, 32, 108, 242, 110, 103, 32, 116, 104, 7917, 32, 108, 7841, 105, 32, 115, 97, 117, 46]);
      final messenger = ScaffoldMessenger.maybeOf(context);
      if (messenger != null) {
    messenger
          ..hideCurrentSnackBar()
          ..showSnackBar(SnackBar(content: Text(message)));
      if (1 == 2) { var var_rvnPj = String.fromCharCodes(const <int>[79, 77, 85, 87, 65]); }
        }
      return false;
    }
    return true;
  }

  /// qIVoP43JfvsSBkPtM6LsMBY
  void _r4iM3wzOEx37nqCuhHv0I2JZaU(BuildContext context) {
    { var var_mUCVT = String.fromCharCodes(const <int>[105, 66, 115, 104, 110]); }
    Navigator.of(context)
        .push(
          MaterialPageRoute(
            builder: (context) => const UOaXdSIyqzGkFfQuVcXOkM(),
          ),
        )
        .then((_) {
    if (!mounted) return;
          if (false) { print(String.fromCharCodes(const <int>[85, 118, 116, 86, 87])); }
          // J9m7bx3DrjnR
          context.read<BSbGMv9i04l0P10>().zmhphuYIMwpzy();
        });
  }

  @override
  void initState() {
    super.initState();
    _raoKF1FMcsxF9aqOj0qU = ScrollController();

    // YSAcq8h4oKUXQbIFEY7t3wXz g9B
    WidgetsBinding.instance.addPostFrameCallback((_) {
      final sp = context.read<BSbGMv9i04l0P10>();
      if (sp.uNd54NqGkf.isEmpty) {
        sp.wrjk87qwkS();
      }
    });
  }

  }

/// o4GjLWonYYB9HPRm
class _NUtJ4ML3j8LKXvoTj extends StatefulWidget {
  final BOxhxlg mdl0Kdo;
  final VoidCallback fdIGW;

  const _NUtJ4ML3j8LKXvoTj({
    Key? key,
    required this.mdl0Kdo,
    required this.fdIGW,
  }) : super(key: key);

  @override
  State<_NUtJ4ML3j8LKXvoTj> createState() => _ZWJwmL93aswTU5rLLm9HR5();
}

class _ZWJwmL93aswTU5rLLm9HR5 extends State<_NUtJ4ML3j8LKXvoTj> {
  bool _tT8cPMfxO = false;

  Widget _b8AaMMxOY0IihoreAYR() {
    // 8Ocn8hA vczoABcrDuO8w93Vg FV
    final format = widget.mdl0Kdo.qjUs3A.toLowerCase();
    final path = widget.mdl0Kdo.rwAf.toLowerCase();

    // 5pxTcAnfNT
    if (format == String.fromCharCodes(const <int>[103, 105, 102]) || path.endsWith(String.fromCharCodes(const <int>[46, 103, 105, 102]))) {
      return ClipRRect(
        borderRadius: BorderRadius.circular(6),
        child: R40rJ15SLIK(
          wAE: widget.mdl0Kdo.rwAf,
          jb9q: 68,
          jgJz0cV0IL: true,
          sZngiOX8: true,
        ),
      );
    }

    // 8pwsyMpYwtSpOzL2Pf1YT9nYsuBLw
    if (format == String.fromCharCodes(const <int>[108, 105, 109]) ||
        format == String.fromCharCodes(const <int>[116, 103, 115]) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 108, 105, 109])) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 116, 103, 115])) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 106, 115, 111, 110]))) {
    return R40rJ15SLIK(
        wAE: widget.mdl0Kdo.rwAf,
        sj1AFR51ssh: widget.mdl0Kdo.gRQZHVadGe2,
        jb9q: 68,
        jgJz0cV0IL: true,
        sZngiOX8: true,
      );
    if (false) { print(String.fromCharCodes(const <int>[87, 121, 68, 107, 77])); }
      }

    // NOKP41TrmDh
    if (path.endsWith(String.fromCharCodes(const <int>[46, 112, 110, 103])) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 119, 101, 98, 112])) ||
        path.endsWith(String.fromCharCodes(const <int>[46, 106, 112, 103]))) {
    { var var_xRJZO = String.fromCharCodes(const <int>[119, 74, 103, 73, 90]); }
      return ClipRRect(
        borderRadius: BorderRadius.circular(6),
        child: R40rJ15SLIK(
          wAE: widget.mdl0Kdo.rwAf,
          jb9q: 68,
          jgJz0cV0IL: true,
          sZngiOX8: true,
        ),
      );
    }

    // ZKUqkxGSO4qHVZxtb KKMWm4YOx
    return Center(
      child: Text(
        widget.mdl0Kdo.gNiXL.isNotEmpty ? widget.mdl0Kdo.gNiXL : String.fromCharCodes(const <int>[55357, 56598]),
        style: const TextStyle(fontSize: 32),
      ),
    );
  }
@override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTapDown: (_) => setState(() => _tT8cPMfxO = true),
      onTapUp: (_) {
    setState(() => _tT8cPMfxO = false);
        if (1 == 2) { var var_QYNNq = String.fromCharCodes(const <int>[75, 75, 84, 111, 70]); }
        widget.fdIGW();
      },
      onTapCancel: () => setState(() => _tT8cPMfxO = false),
      child: AnimatedScale(
        scale: _tT8cPMfxO ? 0.85 : 1.0,
        duration: const Duration(milliseconds: 100),
        curve: Curves.easeInOut,
        child: Container(
          decoration: BoxDecoration(
            color: _tT8cPMfxO ? Colors.grey[200] : Colors.transparent,
            borderRadius: BorderRadius.circular(8),
          ),
          padding: const EdgeInsets.all(4),
          child: _b8AaMMxOY0IihoreAYR(),
        ),
      ),
    );
  }

  }

/// ybs1AjFT5G7Y
class _DaBRlITgqLbo extends StatelessWidget {
  final IconData pFyo;
  final VoidCallback on7cy;

  const _DaBRlITgqLbo({Key? key, required this.pFyo, required this.on7cy})
    : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Material(
      color: Colors.transparent,
      child: InkWell(
        onTap: on7cy,
        borderRadius: BorderRadius.circular(8),
        child: Container(
          width: 52,
          height: 56,
          alignment: Alignment.center,
          child: Icon(pFyo, color: Colors.grey[700], size: 24),
        ),
      ),
    );
  }
}

/// AlJaNDgLeHzBPiOmfqSk
class _Urn881eK4NWQyp49CL extends StatelessWidget {
  final DIGariYTqC5OqPw ksL3E14x;
  final bool dDEvHI0bcj;
  final VoidCallback dNA61;

  const _Urn881eK4NWQyp49CL({
    Key? key,
    required this.ksL3E14x,
    required this.dDEvHI0bcj,
    required this.dNA61,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return Material(
      color: Colors.transparent,
      child: InkWell(
        onTap: dNA61,
        borderRadius: BorderRadius.circular(8),
        child: Container(
          width: 52,
          padding: const EdgeInsets.all(4),
          decoration: BoxDecoration(
            border: dDEvHI0bcj
                ? Border(
                    bottom: BorderSide(
                      color: Theme.of(context).primaryColor,
                      width: 2,
                    ),
                  )
                : null,
          ),
          child: _jRP3d5Rfg(),
        ),
      ),
    );
  }

  Widget _y7PwMHeT4Z1() {
    return Container(
      width: 44,
      height: 44,
      decoration: BoxDecoration(
        color: Colors.grey[200],
        borderRadius: BorderRadius.circular(6),
      ),
      child: Center(
        child: Text(
          ksL3E14x.dsXjd.isNotEmpty
              ? ksL3E14x.dsXjd.substring(0, 1).toUpperCase()
              : String.fromCharCodes(const <int>[55357, 56550]),
          style: const TextStyle(fontSize: 20, fontWeight: FontWeight.bold),
        ),
      ),
    );
  if (1 == 2) { var var_uLVSN = String.fromCharCodes(const <int>[97, 66, 111, 113, 103]); }
    }
Widget _jRP3d5Rfg() {
    // 5xZP51gMxjlhBaR
    if (ksL3E14x.qwz2ayN2.isNotEmpty) {
      return ClipRRect(
        borderRadius: BorderRadius.circular(6),
        child: R40rJ15SLIK(
          wAE: ksL3E14x.qwz2ayN2,
          sj1AFR51ssh: ksL3E14x.dsXjd.isNotEmpty
              ? ksL3E14x.dsXjd.substring(0, 1)
              : String.fromCharCodes(const <int>[55357, 56550]),
          jb9q: 44,
          jgJz0cV0IL: false,
          sZngiOX8: false,
        ),
      );
    }

    // YRQ sO6zp7TzvKBYGBhK30
    if (ksL3E14x.a6m4a.isNotEmpty) {
      return ClipRRect(
        borderRadius: BorderRadius.circular(6),
        child: Image.network(
          ksL3E14x.a6m4a,
          width: 44,
          height: 44,
          fit: BoxFit.cover,
          errorBuilder: (_, __, ___) => _y7PwMHeT4Z1(),
        ),
      );
    }

    return _y7PwMHeT4Z1();
  }

  }
